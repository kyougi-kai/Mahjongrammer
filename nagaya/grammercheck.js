let tango = {
    apple: {
        //名詞
        複数形:'apples',
        hukusuu:false,
        hinsi: ['名詞'],
        tags: ['可算名詞'],
    },
    desk: {
        hinsi: ['名詞'],
        tags: ['可算名詞'],
    },
    cat: {
        hinsi: ['名詞'],
        tags: ['可算名詞'],
    },
    book: {
        hinsi: ['名詞'],
        tags: ['可算名詞'],
    },
    water: {
        hinsi: ['名詞'],
        tags: ['不可算名詞'],
    },
    happiness: {
        hinsi: ['名詞'],
        tags: ['不可算名詞'],
    },
    money: {
        hinsi: ['名詞'],
        tags: ['不可算名詞'],
    },
    information: {
        hinsi: ['名詞'],
        tags: ['不可算名詞'],
    },
    Tokyo: {
        hinsi: ['名詞'],
        tags: ['不可算名詞'],
    },
    Einstein: {
        hinsi: ['名詞'],
        tags: ['不可算名詞'],
    },
    Amazon: {
        hinsi: ['名詞'],
        tags: ['不可算名詞'],
    },
    iPhone: {
        hinsi: ['名詞'],
        tags: ['不可算名詞'],
    },
    I: {
        //代名詞
        hinsi: ['代名詞'],
        tags: ['一人称', '単数', '人称代名詞', '主格'],
    },
    me: {
        hinsi: ['代名詞'],
        tags: ['一人称', '単数', '人称代名詞', '目的格'],
    },
    my: {
        hinsi: ['代名詞'],
        tags: ['一人称', '単数', '人称代名詞', '所有格'],
    },
    mine: {
        hinsi: ['代名詞'],
        tags: ['一人称', '単数', '人称代名詞', '所有代名詞'],
    },
    you: {
        hinsi: ['代名詞'],
        tags: ['二人称', '単数/複数', '人称代名詞', '主格/目的格'],
    },
    your: {
        hinsi: ['代名詞'],
        tags: ['二人称', '単数/複数', '人称代名詞', '所有格'],
    },
    yours: {
        hinsi: ['代名詞'],
        tags: ['二人称', '単数/複数', '人称代名詞', '所有代名詞'],
    },
    he: {
        hinsi: ['代名詞'],
        tags: ['三人称', '単数', '人称代名詞', '主格', '男性'],
    },
    him: {
        hinsi: ['代名詞'],
        tags: ['三人称', '単数', '人称代名詞', '目的格', '男性'],
    },
    his: {
        hinsi: ['代名詞'],
        tags: ['三人称', '単数', '人称代名詞', '所有格', '男性'],
    },
    she: {
        hinsi: ['代名詞'],
        tags: ['三人称', '単数', '人称代名詞', '主格', '女性'],
    },
    her: {
        hinsi: ['代名詞'],
        tags: ['三人称', '単数', '人称代名詞', '目的格/所有格', '女性'],
    },
    hers: {
        hinsi: ['代名詞'],
        tags: ['三人称', '単数', '人称代名詞', '所有代名詞', '女性'],
    },
    it: {
        hinsi: ['代名詞'],
        tags: ['三人称', '単数', '人称代名詞', '主格/目的格', '中性'],
    },
    its: {
        hinsi: ['代名詞'],
        tags: ['三人称', '単数', '人称代名詞', '所有格', '中性'],
    },
    we: {
        hinsi: ['代名詞'],
        tags: ['一人称', '複数', '人称代名詞', '主格'],
    },
    us: {
        hinsi: ['代名詞'],
        tags: ['一人称', '複数', '人称代名詞', '目的格'],
    },
    our: {
        hinsi: ['代名詞'],
        tags: ['一人称', '複数', '人称代名詞', '所有格'],
    },
    ours: {
        hinsi: ['代名詞'],
        tags: ['一人称', '複数', '人称代名詞', '所有代名詞'],
    },
    they: {
        hinsi: ['代名詞'],
        tags: ['三人称', '複数', '人称代名詞', '主格'],
    },
    them: {
        hinsi: ['代名詞'],
        tags: ['三人称', '複数', '人称代名詞', '目的格'],
    },
    their: {
        hinsi: ['代名詞'],
        tags: ['三人称', '複数', '人称代名詞', '所有格'],
    },
    theirs: {
        hinsi: ['代名詞'],
        tags: ['三人称', '複数', '人称代名詞', '所有代名詞'],
    },
    this: {
        hinsi: ['代名詞'],
        tags: ['指示代名詞', '単数'],
    },
    that: {
        hinsi: ['代名詞'],
        tags: ['指示代名詞', '単数'],
    },
    these: {
        hinsi: ['代名詞'],
        tags: ['指示代名詞', '複数'],
    },
    those: {
        hinsi: ['代名詞'],
        tags: ['指示代名詞', '複数'],
    },
    myself: {
        hinsi: ['代名詞'],
        tags: ['再帰代名詞', '一人称', '単数'],
    },
    yourself: {
        hinsi: ['代名詞'],
        tags: ['再帰代名詞', '二人称', '単数'],
    },
    himself: {
        hinsi: ['代名詞'],
        tags: ['再帰代名詞', '三人称', '単数', '男性'],
    },
    herself: {
        hinsi: ['代名詞'],
        tags: ['再帰代名詞', '三人称', '単数', '女性'],
    },
    itself: {
        hinsi: ['代名詞'],
        tags: ['再帰代名詞', '三人称', '単数', '中性'],
    },
    ourselves: {
        hinsi: ['代名詞'],
        tags: ['再帰代名詞', '一人称', '複数'],
    },
    yourselves: {
        hinsi: ['代名詞'],
        tags: ['再帰代名詞', '二人称', '複数'],
    },
    themselves: {
        hinsi: ['代名詞'],
        tags: ['再帰代名詞', '三人称', '複数'],
    },
    who: {
        hinsi: ['代名詞'],
        tags: ['疑問代名詞'],
    },
    whose: {
        hinsi: ['代名詞'],
        tags: ['疑問代名詞', '所有格'],
    },
    what: {
        hinsi: ['代名詞'],
        tags: ['疑問代名詞'],
    },
    which: {
        hinsi: ['代名詞'],
        tags: ['疑問代名詞'],
    },
    someone: {
        hinsi: ['代名詞'],
        tags: ['不定代名詞', '単数', '肯定'],
    },
    anyone: {
        hinsi: ['代名詞'],
        tags: ['不定代名詞', '単数', '否定'],
    },
    everyone: {
        hinsi: ['代名詞'],
        tags: ['不定代名詞', '単数'],
    },
    something: {
        hinsi: ['代名詞'],
        tags: ['不定代名詞', '単数', '肯定'],
    },
    anything: {
        hinsi: ['代名詞'],
        tags: ['不定代名詞', '単数', '否定'],
    },
    nothing: {
        hinsi: ['代名詞'],
        tags: ['不定代名詞', '単数'],
    },
    all: {
        hinsi: ['代名詞'],
        tags: ['不定代名詞', '単数', '複数'],
    },
    eat: {
        //動詞
        hinsi: ['動詞'],
        tags: ['他動詞', '動作動詞'],
        katuyou: ['eat', 'eats', 'ate', 'eaten', 'eating'],
    },
    run: {
        hinsi: ['動詞'],
        tags: ['自動詞', '動作動詞'],
        katuyou: ['run', 'runs', 'ran', 'run', 'running'],
    },
    sleep: {
        hinsi: ['動詞'],
        tags: ['自動詞', '動作動詞'],
        katuyou: ['sleep', 'sleeps', 'slept', 'slept', 'sleeping'],
    },
    read: {
        hinsi: ['動詞'],
        tags: ['他動詞', '動作動詞'],
        katuyou: ['read', 'reads', 'read', 'read', 'reading'],
    },
    write: {
        hinsi: ['動詞'],
        tags: ['他動詞', '動作動詞'],
        katuyou: ['write', 'writes', 'wrote', 'written', 'writing'],
    },
    know: {
        hinsi: ['動詞'],
        tags: ['他動詞', '状態動詞'],
        katuyou: ['know', 'knows', 'knew', 'known', 'knowing'],
    },
    love: {
        hinsi: ['動詞'],
        tags: ['他動詞', '状態動詞'],
        katuyou: ['love', 'loves', 'loved', 'loved', 'loving'],
    },
    see: {
        hinsi: ['動詞'],
        tags: ['他動詞', '知覚動詞'],
        katuyou: ['see', 'sees', 'saw', 'seen', 'seeing'],
    },
    hear: {
        hinsi: ['動詞'],
        tags: ['他動詞', '知覚動詞'],
        katuyou: ['hear', 'hears', 'heard', 'heard', 'hearing'],
    },
    become: {
        hinsi: ['動詞'],
        tags: ['連結動詞'],
        katuyou: ['become', 'becomes', 'became', 'become', 'becoming'],
    },
    make: {
        hinsi: ['動詞'],
        tags: ['他動詞', '使役動詞', 'SVOCがとれる動詞'],
        katuyou: ['make', 'makes', 'made', 'made', 'making'],
    },
    give: {
        hinsi: ['動詞'],
        tags: ['他動詞', 'SVOOがとれる動詞'],
        katuyou: ['give', 'gives', 'gave', 'given', 'giving'],
    },
    take: {
        hinsi: ['動詞'],
        tags: ['他動詞'],
        katuyou: ['take', 'takes', 'took', 'taken', 'taking'],
    },
    go: {
        hinsi: ['動詞'],
        tags: ['自動詞', '動作動詞'],
        katuyou: ['go', 'goes', 'went', 'gone', 'going'],
    },
    swim: {
        hinsi: ['動詞'],
        tags: ['自動詞', '動作動詞'],
        katuyou: ['swim', 'swims', 'swam', 'swum', 'swimming'],
    },
    be: {
        hinsi: ['動詞', '助動詞'],
        tags: ['連結動詞', 'be動詞', '相助動詞'],
        katuyou: ['be', '', '', 'been', 'being'],
    },
    am: {
        hinsi: ['動詞'],
        tags: ['連結動詞', 'be動詞'],
        katuyou: ['be', 'am', 'was', 'been', 'being'],
    },
    are: {
        hinsi: ['動詞'],
        tags: ['連結動詞', 'be動詞'],
        katuyou: ['be', 'are', 'were', 'been', 'being'],
    },
    is: {
        hinsi: ['動詞'],
        tags: ['連結動詞', 'be動詞'],
        katuyou: ['be', 'is', 'was', 'been', 'being'],
    },
    happy: {
        //形容詞
        hinsi: ['形容詞'],
        tags: ['限定用法', '叙述用法', '意見'],
        katuyou: ['happy', 'happier', 'happiest'],
    },
    blue: {
        hinsi: ['形容詞'],
        tags: ['限定用法', '叙述用法', '色'],
        katuyou: ['blue', 'bluer', 'bluest'],
    },
    large: {
        hinsi: ['形容詞'],
        tags: ['限定用法', '叙述用法', 'サイズ'],
        katuyou: ['large', 'larger', 'largest'],
    },
    wooden: {
        hinsi: ['形容詞'],
        tags: ['限定用法', '素材'],
        katuyou: ['wooden', 'more wooden', 'most wooden'],
    },
    old: {
        hinsi: ['形容詞'],
        tags: ['限定用法', '叙述用法', '年齢'],
        katuyou: ['old', 'older', 'oldest'],
    },
    beautiful: {
        hinsi: ['形容詞'],
        tags: ['限定用法', '叙述用法', '意見'],
        katuyou: ['beautiful', 'more beautiful', 'most beautiful'],
    },
    round: {
        hinsi: ['形容詞'],
        tags: ['限定用法', '叙述用法', '形'],
        katuyou: ['round', 'rounder', 'roundest'],
    },
    French: {
        hinsi: ['形容詞'],
        tags: ['限定用法', '叙述用法', '起源'],
        katuyou: ['French', 'more French', 'most French'],
    },
    sleeping: {
        hinsi: ['形容詞'],
        tags: ['限定用法', '目的'],
        katuyou: ['sleeping', 'more sleeping', 'most sleeping'],
    },
    three: {
        hinsi: ['形容詞'],
        tags: ['数詞'],
        katuyou: ['three', '', ''],
    },
    many: {
        hinsi: ['形容詞'],
        tags: ['限定用法', '数量'],
        katuyou: ['many', 'more', 'most'],
    },
    hot: {
        hinsi: ['形容詞'],
        tags: ['限定用法', '叙述用法', '温度'],
        katuyou: ['hot', 'hotter', 'hottest'],
    },
    some: {
        hinsi: ['形容詞'],
        tags: ['限定用法', '数量'],
        katuyou: ['some', '', ''],
    },
    interesting: {
        hinsi: ['形容詞'],
        tags: ['限定用法', '叙述用法', '意見'],
        katuyou: ['interesting', 'more interesting', 'most interesting'],
    },
    tired: {
        hinsi: ['形容詞'],
        tags: ['叙述用法', '状態'],
        katuyou: ['tired', 'more tired', 'most tired'],
    },
    quickly: {
        //副詞
        hinsi: ['副詞'],
        tags: ['様態'],
    },
    carefully: {
        hinsi: ['副詞'],
        tags: ['様態'],
    },
    loudly: {
        hinsi: ['副詞'],
        tags: ['様態'],
    },
    slowly: {
        hinsi: ['副詞'],
        tags: ['様態'],
    },
    happily: {
        hinsi: ['副詞'],
        tags: ['様態'],
    },
    sadly: {
        hinsi: ['副詞'],
        tags: ['様態'],
    },
    easily: {
        hinsi: ['副詞'],
        tags: ['様態'],
    },
    well: {
        hinsi: ['副詞'],
        tags: ['様態'],
    },
    now: {
        hinsi: ['副詞'],
        tags: ['時間'],
    },
    yesterday: {
        hinsi: ['副詞'],
        tags: ['時間'],
    },
    soon: {
        hinsi: ['副詞'],
        tags: ['時間'],
    },
    later: {
        hinsi: ['副詞'],
        tags: ['時間'],
    },
    today: {
        hinsi: ['副詞'],
        tags: ['時間'],
    },
    tomorrow: {
        hinsi: ['副詞'],
        tags: ['時間'],
    },
    recently: {
        hinsi: ['副詞'],
        tags: ['時間'],
    },
    already: {
        hinsi: ['副詞'],
        tags: ['時間'],
    },
    here: {
        hinsi: ['副詞'],
        tags: ['場所'],
    },
    there: {
        hinsi: ['副詞'],
        tags: ['場所'],
    },
    everywhere: {
        hinsi: ['副詞'],
        tags: ['場所'],
    },
    outside: {
        hinsi: ['副詞'],
        tags: ['場所'],
    },
    inside: {
        hinsi: ['副詞'],
        tags: ['場所'],
    },
    upstairs: {
        hinsi: ['副詞'],
        tags: ['場所'],
    },
    nearby: {
        hinsi: ['副詞'],
        tags: ['場所'],
    },
    always: {
        hinsi: ['副詞'],
        tags: ['頻度'],
    },
    often: {
        hinsi: ['副詞'],
        tags: ['頻度'],
    },
    sometimes: {
        hinsi: ['副詞'],
        tags: ['頻度'],
    },
    rarely: {
        hinsi: ['副詞'],
        tags: ['頻度'],
    },
    never: {
        hinsi: ['副詞'],
        tags: ['頻度'],
    },
    usually: {
        hinsi: ['副詞'],
        tags: ['頻度'],
    },
    occasionally: {
        hinsi: ['副詞'],
        tags: ['頻度'],
    },
    very: {
        hinsi: ['副詞'],
        tags: ['程度'],
    },
    almost: {
        hinsi: ['副詞'],
        tags: ['程度'],
    },
    completely: {
        hinsi: ['副詞'],
        tags: ['程度'],
    },
    quite: {
        hinsi: ['副詞'],
        tags: ['程度'],
    },
    extremely: {
        hinsi: ['副詞'],
        tags: ['程度'],
    },
    hardly: {
        hinsi: ['副詞'],
        tags: ['程度'],
    },
    totally: {
        hinsi: ['副詞'],
        tags: ['程度'],
    },
    fortunately: {
        hinsi: ['副詞'],
        tags: ['文修飾'],
    },
    unfortunately: {
        hinsi: ['副詞'],
        tags: ['文修飾'],
    },
    surprisingly: {
        hinsi: ['副詞'],
        tags: ['文修飾'],
    },
    obviously: {
        hinsi: ['副詞'],
        tags: ['文修飾'],
    },
    honestly: {
        hinsi: ['副詞'],
        tags: ['文修飾'],
    },
    do: {
        //助動詞
        hinsi: ['助動詞'],
        tags: ['相助動詞'],
    },
    have: {
        hinsi: ['助動詞', '動詞'],
        tags: ['相助動詞', '他動詞', '動作動詞', '使役動詞'],
    },
    can: {
        hinsi: ['助動詞'],
        tags: ['法助動詞'],
    },
    will: {
        hinsi: ['助動詞'],
        tags: ['法助動詞'],
    },
    shall: {
        hinsi: ['助動詞'],
        tags: ['法助動詞'],
    },
    may: {
        hinsi: ['助動詞'],
        tags: ['法助動詞'],
    },
    must: {
        hinsi: ['助動詞'],
        tags: ['法助動詞'],
    },
    could: {
        hinsi: ['助動詞'],
        tags: ['法助動詞'],
    },
    would: {
        hinsi: ['助動詞'],
        tags: ['法助動詞'],
    },
    should: {
        hinsi: ['助動詞'],
        tags: ['法助動詞'],
    },
    might: {
        hinsi: ['助動詞'],
        tags: ['法助動詞'],
    },
    at: {
        //前置詞
        hinsi: ['前置詞'],
        tags: ['時間', '場所'],
    },
    on: {
        hinsi: ['前置詞'],
        tags: ['時間', '場所'],
    },
    in: {
        hinsi: ['前置詞'],
        tags: ['時間', '場所'],
    },
    by: {
        hinsi: ['前置詞'],
        tags: ['時間', '手段'],
    },
    during: {
        hinsi: ['前置詞'],
        tags: ['時間'],
    },
    before: {
        hinsi: ['前置詞'],
        tags: ['時間'],
    },
    after: {
        hinsi: ['前置詞'],
        tags: ['時間'],
    },
    until: {
        hinsi: ['前置詞'],
        tags: ['時間'],
    },
    since: {
        hinsi: ['前置詞'],
        tags: ['時間'],
    },
    for: {
        hinsi: ['前置詞'],
        tags: ['時間'],
    },
    under: {
        hinsi: ['前置詞'],
        tags: ['場所'],
    },
    above: {
        hinsi: ['前置詞'],
        tags: ['場所'],
    },
    below: {
        hinsi: ['前置詞'],
        tags: ['場所'],
    },
    between: {
        hinsi: ['前置詞'],
        tags: ['場所'],
    },
    beside: {
        hinsi: ['前置詞'],
        tags: ['場所'],
    },
    near: {
        hinsi: ['前置詞'],
        tags: ['場所'],
    },
    inside: {
        hinsi: ['前置詞'],
        tags: ['場所'],
    },
    to: {
        hinsi: ['前置詞'],
        tags: ['方向'],
    },
    into: {
        hinsi: ['前置詞'],
        tags: ['方向'],
    },
    towards: {
        hinsi: ['前置詞'],
        tags: ['方向'],
    },
    through: {
        hinsi: ['前置詞'],
        tags: ['方向'],
    },
    across: {
        hinsi: ['前置詞'],
        tags: ['方向'],
    },
    along: {
        hinsi: ['前置詞'],
        tags: ['方向'],
    },
    around: {
        hinsi: ['前置詞'],
        tags: ['方向'],
    },
    onto: {
        hinsi: ['前置詞'],
        tags: ['方向'],
    },
    off: {
        hinsi: ['前置詞'],
        tags: ['方向'],
    },
    with: {
        hinsi: ['前置詞'],
        tags: ['手段'],
    },
    using: {
        hinsi: ['前置詞'],
        tags: ['手段'],
    },
    via: {
        hinsi: ['前置詞'],
        tags: ['手段'],
    },
    through: {
        hinsi: ['前置詞'],
        tags: ['手段'],
    },
    without: {
        hinsi: ['前置詞'],
        tags: ['手段'],
    },
    a: {
        //冠詞
        hinsi: ['冠詞'],
        tags: ['不定冠詞'],
    },
    an: {
        hinsi: ['冠詞'],
        tags: ['不定冠詞'],
    },
    the: {
        hinsi: ['冠詞'],
        tags: ['定冠詞'],
    },
    and: {
        //接続詞
        hinsi: ['接続詞'],
        tags: ['等位接続詞'],
    },
    but: {
        hinsi: ['接続詞'],
        tags: ['等位接続詞'],
    },
    or: {
        hinsi: ['接続詞'],
        tags: ['等位接続詞'],
    },
    so: {
        hinsi: ['接続詞'],
        tags: ['等位接続詞'],
    },
    yet: {
        hinsi: ['接続詞'],
        tags: ['等位接続詞'],
    },
    for: {
        hinsi: ['接続詞'],
        tags: ['等位接続詞'],
    },
    because: {
        hinsi: ['接続詞'],
        tags: ['従位接続詞'],
    },
    although: {
        hinsi: ['接続詞'],
        tags: ['従位接続詞'],
    },
    if: {
        hinsi: ['接続詞'],
        tags: ['従位接続詞'],
    },
    when: {
        hinsi: ['接続詞'],
        tags: ['従位接続詞'],
    },
    while: {
        hinsi: ['接続詞'],
        tags: ['従位接続詞'],
    },
    since: {
        hinsi: ['接続詞'],
        tags: ['従位接続詞'],
    },
    until: {
        hinsi: ['接続詞'],
        tags: ['従位接続詞'],
    },
    unless: {
        hinsi: ['接続詞'],
        tags: ['従位接続詞'],
    },
    though: {
        hinsi: ['接続詞'],
        tags: ['従位接続詞'],
    },
};

Object.keys(tango).forEach(key => {
    if(tango[key].hasOwnProperty('複数形') == true){
        tango[tango[key]['複数形']] = {...tango[key]};
        tango[tango[key]['複数形']].hukusuu = true;
    }
});

const DaimeisicanSArray = ['主格', '指示代名詞', '不定代名詞', '疑問代名詞'];
const DaimeisicanCArray = ['主格', '所有代名詞', '再帰代名詞', '指示代名詞', '不定代名詞', '疑問代名詞'];
const DaimeisicanOArray = ['目的格', '再帰代名詞', '指示代名詞', '不定代名詞', '疑問代名詞'];

let checkGrammerTestArray = {
    sentence: 1,
    s: ['I'],
    v: ['run'],
};

// let a = {
//     v: ['play', ['at', 'school']],
// };

console.log(checkGrammer(checkGrammerTestArray));


function tangoviews() {
    console.log(['apple,an'].split(','));
}

function wordsChangeToArray(targetWords) {
    const result = [];
    let buffer = '';
    let insideBracket = false;

    for (let i = 0; i < targetWords.length; i++) {
        const char = targetWords[i];

        if (char === '[') {
            insideBracket = true;
            buffer += char;
        } else if (char === ']') {
            insideBracket = false;
            buffer += char;
        } else if (char === ',' && !insideBracket) {
            result.push(buffer);
            buffer = '';
        } else {
            buffer += char;
        }
    }

    if (buffer) result.push(buffer);

    return result.map((item) => {
        item = item.trim();
        if (item.startsWith('[') && item.endsWith(']')) {
            const inner = item
                .slice(1, -1)
                .split(',')
                .map((str) => str.trim());
            return inner;
        } else {
            return item;
        }
    });
}

function checkByHTML(targetPart) {
    targetWords = document.getElementById(targetPart).value;
    targetWords = wordsChangeToArray(targetWords);
    switch (targetPart) {
        case 'S':
            console.log(checkS(targetWords));
            break;
        case 'V':
            console.log(checkS(targetWords));
            break;
        case 'C':
            console.log(checkC(targetWords));
            break;
        case 'O':
            console.log(checkO(targetWords));
            break;
    }
}

function checkGrammer(targetArray) {
    targetArray.sentence = targetArray.sentence.toString();

    let grammerCheckResult = {
        success:true,
        successes:[],
        message:"",
        errors:[]
    };//判定結果の文章を代入

    switch (targetArray.sentence) {
        case '1': //第一文型SV
            if (!checkS(targetArray.s,grammerCheckResult)) {
                grammerCheckResult.message.push("Sにエラー,");
                grammerCheckResult.success = false;
            }
            if (!checkJidousiRoot(targetArray.v) && !checkBedousiRoot(targetArray.v)) {
                grammerTF += "Vにエラー,";
                grammerCheckresult.success = false;
            }
            break;
        case '2': //第二文型SVC
            if (!checkS(targetArray.s)) {
                grammerTF += "Sにエラー,";
                grammerCheckresult.success = false;
            }
            if (!checkRenketuRoot(targetArray.v) && !checkBedousiRoot(targetArray.v)) {
                grammerTF += "Vにエラー,";
                grammerCheckresult.success = false;
            }
            if (!checkC(targetArray.c)) {
                grammerTF += "Cにエラー,";
                grammerCheckresult.success = false;
            }
            break;
        case '3': //第三文型SVO
            if (!checkS(targetArray.s)) {
                grammerTF += "Sにエラー,";
                grammerCheckresult.success = false;
            }
            if (!checkTadousiRoot(targetArray.v)) {
                grammerTF += "Vにエラー,";
                grammerCheckresult.success = false;
            }
            if (!checkO(targetArray.o1)) {
                grammerTF += "Oにエラー,";
                grammerCheckresult.success = false;
            }
            break;
        case '4': //第四文型SVOO
            if (!checkS(targetArray.s)) {
                grammerTF += "Sにエラー,";
                grammerCheckresult.success = false;
            }
            if (!checkVOfSVOORoot(targetArray.v)) {
                grammerTF += "Vにエラー,";
                grammerCheckresult.success = false;
            }
            if (!checkO(targetArray.o1)) {
                grammerTF += "O1にエラー,";
                grammerCheckresult.success = false;
            }
            if (!checkO(targetArray.o2)) {
                grammerTF += "O2にエラー,";
                grammerCheckresult.success = false;
            }
            break;
        case '5': //第五文型SVOC
            if (!checkS(targetArray.s)) {
                grammerTF += "Sにエラー,";
                grammerCheckresult.success = false;
            }
            if (!checkVOfSVOCRoot(targetArray.v)) {
                grammerTF += "Vにエラー,";
                grammerCheckresult.success = false;
            }
            if (!checkO(targetArray.o1)) {
                grammerTF += "Oにエラー,";
                grammerCheckresult.success = false;
            }
            if (!checkC(targetArray.c)) {
                grammerTF += "Cにエラー,";
                grammerCheckresult.success = false;
            }
            break;
        default:
            grammerCheckresult.message.push("存在しない文型を指定しています");
            break;
    }
    return grammerCheckresult;
}

function checkGrammerPoint(targetArray) {
    //文法事項に則っているか
}

function checkS(targetSentence,grammerCheckresult) /*＜S＞*/ {
    if (checkMeisiRoot(targetSentence,grammerCheckresult) || checkDaimeisiCanS(targetSentence,grammerCheckresult)) {
        grammerCheckresult;
        return true;
    }
    return false;
}

function checkJidousiRoot(targetSentence) /*＜自動詞根＞*/ {
    let targetIndex = checkJodousiRoot(targetSentence);
    // targetIndex += checkTHJRoot(targetSentence, targetIndex);
    if (!tango[targetSentence[targetIndex]].tags.includes('自動詞')) {
        return false;
    } else {
        targetIndex += 1;
    }
    // targetIndex += checkYBJRoot(targetSentence, targetIndex);
    if (targetIndex == targetSentence.length) return true;
    return false;
}

function checkTadousiRoot(targetSentence) /*他動詞根*/ {
    let targetIndex = checkJodousiRoot(targetSentence);
    // targetIndex += checkTHJRoot(targetSentence, targetIndex);
    if (!tango[targetSentence[targetIndex]].tags.includes('他動詞')) {
        return false;
    } else {
        targetIndex += 1;
    }
    // targetIndex += checkYBJRoot(targetSentence, targetIndex);
    if (targetIndex == targetSentence.length) return true;
    return false;
}

function checkBedousiRoot(targetSentence) /*＜be動詞根＞*/ {
    let targetIndex = checkJodousiRoot(targetSentence);
    if (!tango[targetSentence[targetIndex]].tags.includes('be動詞')) {
        return false;
    } else {
        targetIndex += 1;
    }
    if (targetIndex == targetSentence.length) return true;
    return false;
}

function checkRenketuRoot(targetSentence) /*＜連結動詞根*/ {
    let targetIndex = checkJodousiRoot(targetSentence);
    // targetIndex += checkTHJRoot(targetSentence, targetIndex);
    if (!tango[targetSentence[targetIndex]].tags.includes('連結動詞')) {
        return false;
    } else {
        targetIndex += 1;
    }
    // targetIndex += checkYBJRoot(targetSentence, targetIndex);
    if (targetIndex == targetSentence.length) return true;
    return false;
}

function checkVOfSVOORoot(targetSentence) /*＜SVOOがとれる動詞根＞*/ {
    let targetIndex = checkJodousiRoot(targetSentence);
    // targetIndex += checkTHJRoot(targetSentence, targetIndex);
    if (!tango[targetSentence[targetIndex]].tags.includes('SVOOがとれる動詞')) {
        return false;
    } else {
        targetIndex += 1;
    }
    // targetIndex += checkYBJRoot(targetSentence, targetIndex);
    if (targetIndex == targetSentence.length) return true;
    return false;
}

function checkVOfSVOCRoot(targetSentence) /*＜SVOCがとれる動詞根＞*/ {
    let targetIndex = checkJodousiRoot(targetSentence);
    // targetIndex += checkTHJRoot(targetSentence, targetIndex);
    if (!tango[targetSentence[targetIndex]].tags.includes('SVOCがとれる動詞')) {
        return false;
    } else {
        targetIndex += 1;
    }
    // targetIndex += checkYBJRoot(targetSentence, targetIndex);
    if (targetIndex == targetSentence.length) return true;
    return false;
}

function checkC(targetSentence) /*＜C＞*/ {
    if (
        checkMeisiRoot(targetSentence) ||
        checkDaimeisiCanC(targetSentence) ||
        (targetSentence.length == 1 && tango[targetSentence[0]].hinsi.includes('形容詞'))
    ) {
        return true;
    }
    return false;
}

function checkO(targetSentence) /*＜O＞*/ {
    if (checkMeisiRoot(targetSentence) || checkDaimeisiCanO(targetSentence)) {
        return true;
    }
    return false;
}

function checkMeisiRoot(targetSentence) /*＜名詞根＞要改善*/ {
    let truenum = targetSentence.flat(Infinity).length;
    let wordsCount = 0;
    let targetIndex = 0;
    console.log('単語数：' + truenum);
    wordsCount += checkKansiRoot(targetSentence);
    if (wordsCount != 0) targetIndex += 1;
    wordsCount += checkZentiKeiyousiRoot(targetSentence, targetIndex);
    if (checkZentiKeiyousiRoot(targetSentence, targetIndex) > 0) targetIndex += 1;
    if (!Array.isArray(targetSentence[targetIndex]) && tango[targetSentence[targetIndex]].hinsi.includes('名詞')) {
        wordsCount += 1;
    }
    targetIndex += 1;
    if (truenum == wordsCount) return true;
    return false;
}

function checkMeisiTF(targetSentence) {
    if (Array.isArray(targetSentence[targetIndex])) {
        //kokokara
    }
}

function checkKansiRoot(targetSentence) /*＜冠詞根＞*/ {
    if (Array.isArray(targetSentence[0])) return 0;
    if (
        targetSentence.length > 0 &&
        (tango[targetSentence[0]].hinsi.includes('冠詞') ||
            tango[targetSentence[0]].tags.includes('所有格') ||
            tango[targetSentence[0]].tags.includes('指示代名詞'))
    ) {
        return 1;
    }
    return 0;
}

// console.log(checkMeisiRoot(['an', ['happy', 'happy'], 'apple']));

function checkZentiKeiyousiRoot(targetSentence, targetIndex) /*＜前置形用詞根＞*/ {
    if (Array.isArray(targetSentence[targetIndex])) {
        let i = 0;
        while (i < targetSentence[targetIndex].length && tango[targetSentence[targetIndex][i]].hinsi.includes('形容詞')) {
            i++;
        }
        return i;
    } else {
        return 0;
    }
}

function checkTHJRoot(targetSentence, targetIndex) /*＜程度頻度時間副詞根＞*/ {
    if (
        targetSentence.length > 0 &&
        (tango[targetSentence[targetIndex]].tags.includes('程度') ||
            tango[targetSentence[targetIndex]].tags.includes('頻度') ||
            targetSentence[targetIndex] == 'still' ||
            targetSentence[targetIndex] == 'already')
    ) {
        return 1;
    }
    return 0;
}

function checkYBJRoot(targetSentence, targetIndex) /*＜様態場所時間副詞根＞*/ {
    if (
        targetSentence.length > 0 &&
        targetIndex < targetSentence.length &&
        (tango[targetSentence[targetIndex]].tags.includes('様態') ||
            tango[targetSentence[targetIndex]].tags.includes('場所') ||
            tango[targetSentence[targetIndex]].tags.includes('時間'))
    ) {
        return 1;
    }
    return 0;
}

function checkJodousiRoot(targetSentence) /*＜助動詞根＞*/ {
    if (targetSentence.length > 1 && tango[targetSentence[0]].hinsi.includes('助動詞')) {
        return 1;
    }
    return 0;
}

function checkDaimeisiCanS(targetSentence) /*＜主語に使える代名詞＞*/ {
    if (targetSentence.length != 1) return false;
    return DaimeisicanSArray.some((value) => tango[targetSentence].tags.includes(value));
}

function checkDaimeisiCanC(targetSentence) /*＜補語に使える代名詞＞*/ {
    if (targetSentence.length != 1) return false;
    return DaimeisicanCArray.some((value) => tango[targetSentence].tags.includes(value));
}

function checkDaimeisiCanO(targetSentence) /*＜目的語に使える代名詞＞*/ {
    if (targetSentence.length != 1) return false;
    return DaimeisicanOArray.some((value) => tango[targetSentence].tags.includes(value));
}
